{"version":3,"sources":["../../../src/ts/widgets/agMenuPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8CAAmD;AACnD,gDAA+C;AAE/C,+CAA8C;AAG9C;IAAiC,+BAAY;IACzC,qBAA6B,gBAAiC;QAA9D,YACI,iBAAO,SAGV;QAJ4B,sBAAgB,GAAhB,gBAAgB,CAAiB;QAG1D,KAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,CAAC;;IAC3D,CAAC;IAGO,mCAAa,GAArB;QADA,iBAMC;QAJG,IAAI,CAAC,kBAAkB,CAAC;YACpB,YAAY,EAAE,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,CAAC,CAAC,EAApB,CAAoB;YACvC,aAAa,EAAE,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAArB,CAAqB;SAC5C,CAAC,CAAC;IACP,CAAC;IAEO,mCAAa,GAArB,UAAsB,CAAgB;QAClC,IAAI,CAAC,CAAC,GAAG,KAAK,iBAAO,CAAC,MAAM,EAAE;YAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;IACL,CAAC;IAEO,kCAAY,GAApB,UAAqB,CAAgB;QACjC,IAAI,CAAC,CAAC,gBAAgB,EAAE;YAAE,OAAO;SAAE;QAEnC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,CAAC,CAAC,cAAc,EAAE,CAAC;IACvB,CAAC;IAEO,gCAAU,GAAlB;QACI,IAAM,QAAQ,GAAI,IAAI,CAAC,eAAuC,CAAC;QAC/D,QAAQ,CAAC,YAAY,EAAE,CAAC;QACxB,UAAU,CAAC,cAAM,OAAA,QAAQ,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAzB,CAAyB,EAAE,CAAC,CAAC,CAAC;IACnD,CAAC;IAxBD;QADC,uBAAa;oDAMb;IAoBL,kBAAC;CAjCD,AAiCC,CAjCgC,2BAAY,GAiC5C;AAjCY,kCAAW","file":"agMenuPanel.js","sourcesContent":["import { PostConstruct } from '../context/context';\nimport { KeyCode } from '../constants/keyCode';\nimport { AgMenuItemComponent } from './agMenuItemComponent';\nimport { TabGuardComp } from './tabGuardComp';\nimport { IComponent } from '../interfaces/iComponent';\n\nexport class AgMenuPanel extends TabGuardComp {\n    constructor(private readonly wrappedComponent: IComponent<any>) {\n        super();\n\n        this.setTemplateFromElement(wrappedComponent.getGui());\n    }\n\n    @PostConstruct\n    private postConstruct() {\n        this.initialiseTabGuard({\n            onTabKeyDown: e => this.onTabKeyDown(e),\n            handleKeyDown: e => this.handleKeyDown(e)\n        });\n    }\n\n    private handleKeyDown(e: KeyboardEvent): void {\n        if (e.key === KeyCode.ESCAPE) {\n            this.closePanel();\n        }\n    }\n\n    private onTabKeyDown(e: KeyboardEvent): void {\n        if (e.defaultPrevented) { return; }\n\n        this.closePanel();\n        e.preventDefault();\n    }\n\n    private closePanel(): void {\n        const menuItem = (this.parentComponent as AgMenuItemComponent);\n        menuItem.closeSubMenu();\n        setTimeout(() => menuItem.getGui().focus(), 0);\n    }\n}"]}