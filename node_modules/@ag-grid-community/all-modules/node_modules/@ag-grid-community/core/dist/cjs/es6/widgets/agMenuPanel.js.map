{"version":3,"sources":["../../../src/ts/widgets/agMenuPanel.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,gDAAmD;AACnD,kDAA+C;AAE/C,iDAA8C;AAG9C,MAAa,WAAY,SAAQ,2BAAY;IACzC,YAA6B,gBAAiC;QAC1D,KAAK,EAAE,CAAC;QADiB,qBAAgB,GAAhB,gBAAgB,CAAiB;QAG1D,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,CAAC;IAC3D,CAAC;IAGO,aAAa;QACjB,IAAI,CAAC,kBAAkB,CAAC;YACpB,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACvC,aAAa,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;SAC5C,CAAC,CAAC;IACP,CAAC;IAEO,aAAa,CAAC,CAAgB;QAClC,IAAI,CAAC,CAAC,GAAG,KAAK,iBAAO,CAAC,MAAM,EAAE;YAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;IACL,CAAC;IAEO,YAAY,CAAC,CAAgB;QACjC,IAAI,CAAC,CAAC,gBAAgB,EAAE;YAAE,OAAO;SAAE;QAEnC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,CAAC,CAAC,cAAc,EAAE,CAAC;IACvB,CAAC;IAEO,UAAU;QACd,MAAM,QAAQ,GAAI,IAAI,CAAC,eAAuC,CAAC;QAC/D,QAAQ,CAAC,YAAY,EAAE,CAAC;QACxB,UAAU,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;IACnD,CAAC;CACJ;AAzBG;IADC,uBAAa;gDAMb;AAbL,kCAiCC","file":"agMenuPanel.js","sourcesContent":["import { PostConstruct } from '../context/context';\nimport { KeyCode } from '../constants/keyCode';\nimport { AgMenuItemComponent } from './agMenuItemComponent';\nimport { TabGuardComp } from './tabGuardComp';\nimport { IComponent } from '../interfaces/iComponent';\n\nexport class AgMenuPanel extends TabGuardComp {\n    constructor(private readonly wrappedComponent: IComponent<any>) {\n        super();\n\n        this.setTemplateFromElement(wrappedComponent.getGui());\n    }\n\n    @PostConstruct\n    private postConstruct() {\n        this.initialiseTabGuard({\n            onTabKeyDown: e => this.onTabKeyDown(e),\n            handleKeyDown: e => this.handleKeyDown(e)\n        });\n    }\n\n    private handleKeyDown(e: KeyboardEvent): void {\n        if (e.key === KeyCode.ESCAPE) {\n            this.closePanel();\n        }\n    }\n\n    private onTabKeyDown(e: KeyboardEvent): void {\n        if (e.defaultPrevented) { return; }\n\n        this.closePanel();\n        e.preventDefault();\n    }\n\n    private closePanel(): void {\n        const menuItem = (this.parentComponent as AgMenuItemComponent);\n        menuItem.closeSubMenu();\n        setTimeout(() => menuItem.getGui().focus(), 0);\n    }\n}"]}