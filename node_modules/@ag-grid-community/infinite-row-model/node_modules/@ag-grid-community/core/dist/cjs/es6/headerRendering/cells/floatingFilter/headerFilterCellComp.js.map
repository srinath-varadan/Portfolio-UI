{"version":3,"sources":["../../../src/ts/headerRendering/cells/floatingFilter/headerFilterCellComp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,sDAAyD;AAGzD,gFAAoE;AACpE,mFAAgF;AAGhF,MAAa,oBAAqB,SAAQ,+CAA4C;IAgBlF,YAAY,IAA0B;QAClC,KAAK,CAAC,oBAAoB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC/C,CAAC;IAGO,aAAa;QAEjB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;QAE3B,MAAM,SAAS,GAA0B;YACrC,mBAAmB,EAAE,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,YAAY,EAAE,EAAE,CAAC;YACrF,uBAAuB,EAAE,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,CAAC;YAC1G,gCAAgC,EAAE,CAAC,YAAY,EAAE,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,CAAC;YAC9G,cAAc,EAAE,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;YAC/D,qBAAqB,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW;YAC7C,QAAQ,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK;YAC3C,WAAW,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,KAAK,CAAC;SACtE,CAAC;QAEF,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,qBAAqB,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;IAC7F,CAAC;IAEO,cAAc,CAAC,WAA4B;QAC/C,0FAA0F;QAC1F,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACpD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;IAC/D,CAAC;IAEO,gBAAgB,CAAC,IAAgC;QACrD,IAAI,CAAC,IAAI,EAAE;YAAE,OAAO;SAAE;QAEtB,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE;YAAE,OAAO;SAAE;QAEhC,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAEpD,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;IACL,CAAC;;AArDc,6BAAQ,GACnB;;;;;eAKO,CAAC;AAEwB;IAAnC,kCAAW,CAAC,qBAAqB,CAAC;iEAAmD;AACvD;IAA9B,kCAAW,CAAC,gBAAgB,CAAC;4DAA8C;AACtC;IAArC,kCAAW,CAAC,uBAAuB,CAAC;mEAAqD;AAS1F;IADC,uBAAa;yDAgBb;AApCL,oDAwDC","file":"headerFilterCellComp.js","sourcesContent":["import { UserCompDetails } from \"../../../components/framework/userComponentFactory\";\nimport { PostConstruct } from '../../../context/context';\nimport { IFloatingFilterComp } from '../../../filter/floating/floatingFilter';\nimport { AgPromise } from '../../../utils';\nimport { RefSelector } from '../../../widgets/componentAnnotations';\nimport { AbstractHeaderCellComp } from '../abstractCell/abstractHeaderCellComp';\nimport { HeaderFilterCellCtrl, IHeaderFilterCellComp } from './headerFilterCellCtrl';\n\nexport class HeaderFilterCellComp extends AbstractHeaderCellComp<HeaderFilterCellCtrl> {\n\n    private static TEMPLATE = /* html */\n        `<div class=\"ag-header-cell ag-floating-filter\" role=\"gridcell\" tabindex=\"-1\">\n            <div ref=\"eFloatingFilterBody\" role=\"presentation\"></div>\n            <div class=\"ag-floating-filter-button ag-hidden\" ref=\"eButtonWrapper\" role=\"presentation\">\n                <button type=\"button\" aria-label=\"Open Filter Menu\" class=\"ag-floating-filter-button-button\" ref=\"eButtonShowMainFilter\" tabindex=\"-1\"></button>\n            </div>\n        </div>`;\n\n    @RefSelector('eFloatingFilterBody') private readonly eFloatingFilterBody: HTMLElement;\n    @RefSelector('eButtonWrapper') private readonly eButtonWrapper: HTMLElement;\n    @RefSelector('eButtonShowMainFilter') private readonly eButtonShowMainFilter: HTMLElement;\n\n    private compPromise: AgPromise<IFloatingFilterComp> | null;\n\n    constructor(ctrl: HeaderFilterCellCtrl) {\n        super(HeaderFilterCellComp.TEMPLATE, ctrl);\n    }\n\n    @PostConstruct\n    private postConstruct(): void {\n\n        const eGui = this.getGui();\n\n        const compProxy: IHeaderFilterCellComp = {\n            addOrRemoveCssClass: (cssClassName, on) => this.addOrRemoveCssClass(cssClassName, on),\n            addOrRemoveBodyCssClass: (cssClassName, on) => this.eFloatingFilterBody.classList.toggle(cssClassName, on),\n            addOrRemoveButtonWrapperCssClass: (cssClassName, on) => this.eButtonWrapper.classList.toggle(cssClassName, on),\n            setCompDetails: compDetails => this.setCompDetails(compDetails),\n            getFloatingFilterComp: () => this.compPromise,\n            setWidth: width => eGui.style.width = width,\n            setMenuIcon: eIcon => this.eButtonShowMainFilter.appendChild(eIcon)\n        };\n\n        this.ctrl.setComp(compProxy, eGui, this.eButtonShowMainFilter, this.eFloatingFilterBody);\n    }\n\n    private setCompDetails(compDetails: UserCompDetails): void {\n        // because we are providing defaultFloatingFilterType, we know it will never be undefined;\n        this.compPromise = compDetails.newAgStackInstance();\n        this.compPromise.then(comp => this.afterCompCreated(comp));\n    }\n\n    private afterCompCreated(comp: IFloatingFilterComp | null): void {\n        if (!comp) { return; }\n\n        this.addDestroyFunc(() => this.context.destroyBean(comp));\n        if (!this.isAlive()) { return; }\n\n        this.eFloatingFilterBody.appendChild(comp.getGui());\n\n        if (comp.afterGuiAttached) {\n            comp.afterGuiAttached();\n        }\n    }\n}\n"]}